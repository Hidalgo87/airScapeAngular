<div class="card">
  <p-toast />
  <p-fileUpload
    name="myfile[]"
    url="https://www.primefaces.org/cdn/api/upload.php"
    [multiple]="true"
    accept="image/*"
    maxFileSize="1000000"
    (onSelect)="onSelectedFiles($event)"
    [showUploadButton]="false"
  >
    <!-- (onUpload)="onTemplatedUpload()" -->
    <ng-template
      pTemplate="header"
      let-files
      let-chooseCallback="chooseCallback"
      let-clearCallback="clearCallback"
      let-uploadCallback="uploadCallback"
    >
      <div class="flex">
        <p-button
          (onClick)="choose($event, chooseCallback)"
          styleClass="px-4 py-2 rounded-lg bg-color-2"
        >
          Choose file
        </p-button>
        <!-- <div class="flex items-center gap-2"> -->
        <!-- <p-button
            (onClick)="uploadEvent(uploadCallback)"
            icon="pi pi-cloud-upload"
            [rounded]="true"
            [outlined]="true"
            severity="success"
            [disabled]="!files || files.length === 0"
          />
          <p-button
            (onClick)="clearCallback()"
            icon="pi pi-times"
            [rounded]="true"
            [outlined]="true"
            severity="danger"
            [disabled]="!files || files.length === 0"
          /> -->
        <!-- </div> -->
        <!-- <p-progressBar
          [value]="totalSizePercent"
          [showValue]="false"
          styleClass="md:w-20rem h-1rem w-full md:ml-auto"
          [ngClass]="{ 'exceeded-progress-bar': totalSizePercent > 100 }"
        >
          <span class="white-space-nowrap">{{ totalSize }}B / 1Mb</span>
        </p-progressBar> -->
      </div>
    </ng-template>
    <ng-template
      pTemplate="content"
      let-files
      let-removeFileCallback="removeFileCallback"
      let-removeUploadedFileCallback="removeUploadedFileCallback"
      let-uploadedFiles="uploadedFiles"
    >
      <div *ngIf="files?.length > 0">
        <div class="flex flex-wrap gap-5 p-0 sm:p-5">
          <div
            *ngFor="let file of files; let i = index"
            class="flex gap-3 px-6 m-0 card flex-column border-1 surface-border align-items-center"
          >
            <div>
              <img
                role="presentation"
                [alt]="file.name"
                [src]="file.objectURL"
                width="100"
                height="50"
              />
            </div>
            <!-- <span class="font-semibold">{{ file.name }}</span>
            <div>{{ formatSize(file.size) }}</div> -->
            <!-- <p-badge value="Pending" severity="warning" /> -->
            <p-button
              styleClass="flex w-8 h-8 rounded-full bg-n-8"
              (onClick)="
                onRemoveTemplatingFile($event, file, removeFileCallback, i)
              "
            >
              <ng-icon class="m-auto" name="heroTrash" />
            </p-button>
          </div>
        </div>
      </div>
      <!-- <div *ngIf="uploadedFiles?.length > 0">
        <h5>Completed</h5>
        <div class="flex flex-wrap gap-5 p-0 sm:p-5">
          <div
            *ngFor="let file of uploadedFiles; let i = index"
            class="flex gap-3 px-6 m-0 card flex-column border-1 surface-border align-items-center"
          >
            <div>
              <img
                role="presentation"
                [alt]="file.name"
                [src]="file.objectURL"
                width="100"
                height="50"
              />
            </div>
            <span class="font-semibold">{{ file.name }}</span>
            <div>{{ formatSize(file.size) }}</div>
            <p-badge value="Completed" class="mt-3" severity="success" />
            <p-button
              icon="pi pi-times"
              (onClick)="removeUploadedFileCallback(i)"
              [outlined]="true"
              [rounded]="true"
              severity="danger"
            />
          </div>
        </div>
      </div> -->
    </ng-template>
    <ng-template pTemplate="file"> </ng-template>
    <ng-template pTemplate="empty">
      <div class="flex flex-col items-center mb-8">
        <ng-icon name="heroArrowDownTray" class="text-7xl" />
        <p class="mt-4 mb-0 text-n-2">Drag and drop files here to upload.</p>
      </div>
    </ng-template>
  </p-fileUpload>
</div>
